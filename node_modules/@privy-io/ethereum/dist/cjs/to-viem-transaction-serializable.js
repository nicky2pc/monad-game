"use strict";var e=require("viem");let a={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};let i=e=>void 0!==e?BigInt(e):void 0;exports.STRING_TO_NUMBER_TXN_TYPE={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4},exports.toViemTransactionSerializable=function(r){let s,{type:t=2,...c}="string"==typeof r?JSON.parse(r):r;c.accessList&&Array.isArray(c.accessList)?s=c.accessList.map((e=>Array.isArray(e)?{address:e[0],storageKeys:e[1]}:e)):c.accessList&&(s=Object.entries(c.accessList).map((e=>({address:e[0],storageKeys:e[1]}))));let o=Number(c.chainId??1),n=e.isHex(c.data)?c.data:c.data?e.toHex(Uint8Array.from(c.data)):void 0,d=c.nonce?Number(c.nonce):void 0,p={chainId:o,data:n,nonce:d,value:i(c.value),gas:i(c.gas??c.gasLimit)},y=Number(t);if(0===y)return{...c,type:a[y],...p,gasPrice:i(c.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(1===y)return{...c,type:a[y],...p,gasPrice:i(c.gasPrice),accessList:s,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(2===y)return{...c,type:a[y],...p,nonce:d,accessList:s,maxFeePerGas:i(c.maxFeePerGas),maxPriorityFeePerGas:i(c.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${t}`)};
